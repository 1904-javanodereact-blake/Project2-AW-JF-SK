{"ast":null,"code":"var _jsxFileName = \"C:\\\\2019classrevature\\\\project1-app\\\\src\\\\components\\\\Reimbursements\\\\userupdate.component.tsx\";\nimport React from 'react';\nimport { number } from 'prop-types';\nimport { Role } from '../../model/Role';\nexport class UserUpdateComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = async event => {\n      event.preventDefault();\n      console.log('attempting to login');\n      let user = {\n        user_id: number,\n        user_name: String,\n        password: String,\n        firstname: String,\n        lastname: String,\n        email: String,\n        user_role: Role\n      };\n\n      try {\n        const resp = await fetch('http://localhost:8081/users/login', {\n          method: 'PATCH',\n          credentials: 'include',\n          body: JSON.stringify(user),\n          headers: {\n            'content-type': 'application/json'\n          }\n        });\n        console.log(resp);\n\n        if (resp.status === 401) {\n          this.setState({\n            errorMessage: 'Invalid Credentials'\n          });\n        } else if (resp.status === 200) {\n          // redirect to spaceships page\n          // const user = await resp.json();\n          this.props.history.push('/home');\n        } else {\n          this.setState({\n            errorMessage: 'Cannot Login At This Time'\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.updateUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.updatePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          errorMessage = _this$state.errorMessage;\n    return React.createElement(\"form\", {\n      className: \"form-signin\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Please sign in\"), React.createElement(\"label\", {\n      htmlFor: \"inputUsername\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputUsername\",\n      name: \"username\",\n      className: \"form-control\",\n      placeholder: \"Username\",\n      required: true,\n      value: username,\n      onChange: this.updateUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      required: true,\n      value: password,\n      onChange: this.updatePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"p\", {\n      id: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, errorMessage));\n  }\n\n}","map":{"version":3,"sources":["C:\\2019classrevature\\project1-app\\src\\components\\Reimbursements\\userupdate.component.tsx"],"names":["React","number","Role","UserUpdateComponent","Component","constructor","props","submit","event","preventDefault","console","log","user","user_id","user_name","String","password","firstname","lastname","email","user_role","resp","fetch","method","credentials","body","JSON","stringify","headers","status","setState","errorMessage","history","push","err","updateUsername","username","target","value","updatePassword","state","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { number } from 'prop-types';\r\nimport { Role } from '../../model/Role';\r\n\r\n\r\nexport class UserUpdateComponent extends React.Component<any, any> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  submit = async (event) => {\r\n    event.preventDefault();\r\n    console.log('attempting to login');\r\n    let user = {\r\n      user_id: number,\r\n      user_name: String,\r\n      password: String,\r\n      firstname: String,\r\n      lastname: String,\r\n      email: String,\r\n      user_role: Role\r\n        };\r\n\r\n    try {\r\n      const resp = await fetch('http://localhost:8081/users/login', {\r\n        method: 'PATCH',\r\n        credentials: 'include',\r\n        body: JSON.stringify(user),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      })\r\n      console.log(resp);\r\n\r\n      if (resp.status === 401) {\r\n        this.setState({\r\n          errorMessage: 'Invalid Credentials'\r\n        });\r\n      } else if (resp.status === 200) {\r\n        // redirect to spaceships page\r\n        // const user = await resp.json();\r\n        this.props.history.push('/home');\r\n      } else {\r\n        this.setState({\r\n          errorMessage: 'Cannot Login At This Time'\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  updateUsername = (event) => {\r\n    this.setState({\r\n      username: event.target.value\r\n    });\r\n  }\r\n\r\n  updatePassword = (event) => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { username, password, errorMessage } = this.state;\r\n    return (\r\n      \r\n      <form className=\"form-signin\" onSubmit={this.submit}>\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n        <label htmlFor=\"inputUsername\" className=\"sr-only\">Username</label>\r\n        <input type=\"text\" id=\"inputUsername\" name=\"username\"\r\n          className=\"form-control\" placeholder=\"Username\"\r\n          required value={username} onChange={this.updateUsername} />\r\n\r\n        <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\r\n        <input type=\"password\" id=\"inputPassword\" name=\"password\"\r\n          className=\"form-control\" placeholder=\"Password\"\r\n          required value={password} onChange={this.updatePassword} />\r\n\r\n        <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n        <p id=\"login-error\">{errorMessage}</p>\r\n      </form>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}