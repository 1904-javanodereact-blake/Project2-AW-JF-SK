{"ast":null,"code":"var _jsxFileName = \"C:\\\\2019classrevature\\\\project1-app\\\\src\\\\components\\\\Reimbursements\\\\userupdate.component.tsx\";\nimport React from 'react';\nexport class UserUpdateComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = async event => {\n      event.preventDefault();\n      console.log('attempting to login');\n      const credentials = {\n        username: this.state.username,\n        password: this.state.password\n      };\n\n      try {\n        const resp = await fetch('http://localhost:8081/users/login', {\n          method: 'POST',\n          credentials: 'include',\n          body: JSON.stringify(credentials),\n          headers: {\n            'content-type': 'application/json'\n          }\n        });\n        console.log(resp);\n\n        if (resp.status === 401) {\n          this.setState({\n            errorMessage: 'Invalid Credentials'\n          });\n        } else if (resp.status === 200) {\n          // redirect to spaceships page\n          // const user = await resp.json();\n          this.props.history.push('/home');\n        } else {\n          this.setState({\n            errorMessage: 'Cannot Login At This Time'\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.updateUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.updatePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          errorMessage = _this$state.errorMessage;\n    return React.createElement(\"form\", {\n      className: \"form-signin\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Please sign in\"), React.createElement(\"label\", {\n      htmlFor: \"inputUsername\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputUsername\",\n      name: \"username\",\n      className: \"form-control\",\n      placeholder: \"Username\",\n      required: true,\n      value: username,\n      onChange: this.updateUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      required: true,\n      value: password,\n      onChange: this.updatePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"p\", {\n      id: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, errorMessage));\n  }\n\n}","map":{"version":3,"sources":["C:\\2019classrevature\\project1-app\\src\\components\\Reimbursements\\userupdate.component.tsx"],"names":["React","UserUpdateComponent","Component","constructor","props","submit","event","preventDefault","console","log","credentials","username","state","password","resp","fetch","method","body","JSON","stringify","headers","status","setState","errorMessage","history","push","err","updateUsername","target","value","updatePassword","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\n\r\nexport class UserUpdateComponent extends React.Component<any, any> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  submit = async (event) => {\r\n    event.preventDefault();\r\n    console.log('attempting to login');\r\n    const credentials = {\r\n      username: this.state.username,\r\n      password: this.state.password\r\n    };\r\n\r\n    try {\r\n      const resp = await fetch('http://localhost:8081/users/login', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: JSON.stringify(credentials),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      })\r\n      console.log(resp);\r\n\r\n      if (resp.status === 401) {\r\n        this.setState({\r\n          errorMessage: 'Invalid Credentials'\r\n        });\r\n      } else if (resp.status === 200) {\r\n        // redirect to spaceships page\r\n        // const user = await resp.json();\r\n        this.props.history.push('/home');\r\n      } else {\r\n        this.setState({\r\n          errorMessage: 'Cannot Login At This Time'\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  updateUsername = (event) => {\r\n    this.setState({\r\n      username: event.target.value\r\n    });\r\n  }\r\n\r\n  updatePassword = (event) => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { username, password, errorMessage } = this.state;\r\n    return (\r\n      \r\n      <form className=\"form-signin\" onSubmit={this.submit}>\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n        <label htmlFor=\"inputUsername\" className=\"sr-only\">Username</label>\r\n        <input type=\"text\" id=\"inputUsername\" name=\"username\"\r\n          className=\"form-control\" placeholder=\"Username\"\r\n          required value={username} onChange={this.updateUsername} />\r\n\r\n        <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\r\n        <input type=\"password\" id=\"inputPassword\" name=\"password\"\r\n          className=\"form-control\" placeholder=\"Password\"\r\n          required value={password} onChange={this.updatePassword} />\r\n\r\n        <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n        <p id=\"login-error\">{errorMessage}</p>\r\n      </form>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}