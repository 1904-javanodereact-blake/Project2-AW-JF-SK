{"ast":null,"code":"import _objectSpread from \"C:\\\\2019classrevature\\\\project1-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\2019classrevature\\\\project1-app\\\\src\\\\components\\\\Users\\\\userupdate.component.tsx\";\nimport React from 'react';\nimport { number, string } from 'prop-types';\nexport class UserUpdateComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = async event => {\n      event.preventDefault();\n      console.log('attempting to login');\n      let user = {\n        user_id: number,\n        user_name: string,\n        password: string,\n        firstname: string,\n        lastname: string,\n        email: string,\n        user_role: undefined\n      };\n\n      try {\n        const resp = await fetch('http://localhost:8081/users/', {\n          method: 'PATCH',\n          credentials: 'include',\n          body: JSON.stringify(user),\n          headers: {\n            'content-type': 'application/json'\n          }\n        });\n        console.log(resp);\n\n        if (resp.status === 401) {\n          this.setState({\n            errorMessage: 'Invalid Credentials'\n          });\n        } else if (resp.status === 200) {\n          // redirect to spaceships page\n          // const user = await resp.json();\n          this.props.history.push('/home');\n        } else {\n          this.setState({\n            errorMessage: 'Cannot Update User'\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.updateUserId = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          user_id: event.target.value\n        })\n      });\n    };\n\n    this.updateUsername = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          user_name: event.target.value\n        })\n      });\n    };\n\n    this.updatePassword = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          password: event.target.value\n        })\n      });\n    };\n\n    this.updateFirstName = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          firstname: event.target.value\n        })\n      });\n    };\n\n    this.updateLastName = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          lastname: event.target.value\n        })\n      });\n    };\n\n    this.updateEmail = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          email: event.target.value\n        })\n      });\n    };\n\n    this.updateRole = event => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          user_role: event.target.value\n        })\n      });\n    };\n\n    this.state = {\n      user: undefined,\n      input: '',\n      errorMessage: ''\n    };\n  }\n\n  updateInput(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card col-md-4 col-sm-6 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.input,\n      onChange: e => this.updateInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, this.state.user.firstname + ' ' + this.state.user.lastname)), React.createElement(\"ul\", {\n      className: \"list-group list-group-flush\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"ID: \", this.state.user.user_id), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Username: \", this.state.user.user_name), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Password: \", this.state.user.password), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"First Name: \", this.state.user.firstname), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Last Name: \", this.state.user.lastname), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"email: \", this.state.user.email), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Role: \", this.state.user.user_role)))), React.createElement(\"form\", {\n      className: \"form-signin\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Update Profile\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"User ID\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputUserId\",\n      name: \"userId\",\n      className: \"form-control\",\n      placeholder: \"UserId\",\n      required: true,\n      value: this.state.user.user_id,\n      onChange: this.updateUserId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputUsername\",\n      name: \"username\",\n      className: \"form-control\",\n      placeholder: \"Username\",\n      required: true,\n      value: this.state.user.user_name,\n      onChange: this.updateUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      required: true,\n      value: this.state.user.password,\n      onChange: this.updatePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputFirstName\",\n      name: \"firstName\",\n      className: \"form-control\",\n      placeholder: \"First Name\",\n      required: true,\n      value: this.state.user.firstname,\n      onChange: this.updateFirstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputLastName\",\n      name: \"lastName\",\n      className: \"form-control\",\n      placeholder: \"Last Name\",\n      required: true,\n      value: this.state.user.lastname,\n      onChange: this.updateLastName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"email\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputEmail\",\n      name: \"email\",\n      className: \"form-control\",\n      placeholder: \"email\",\n      required: true,\n      value: this.state.user.email,\n      onChange: this.updateEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Role\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputRole\",\n      name: \"role\",\n      className: \"form-control\",\n      placeholder: \"Role\",\n      required: true,\n      value: this.state.user.user_role,\n      onChange: this.updateRole,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Update\"), React.createElement(\"p\", {\n      id: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.state.errorMessage)));\n  }\n\n}","map":{"version":3,"sources":["C:\\2019classrevature\\project1-app\\src\\components\\Users\\userupdate.component.tsx"],"names":["React","number","string","UserUpdateComponent","Component","constructor","props","submit","event","preventDefault","console","log","user","user_id","user_name","password","firstname","lastname","email","user_role","undefined","resp","fetch","method","credentials","body","JSON","stringify","headers","status","setState","errorMessage","history","push","err","updateUserId","state","target","value","updateUsername","updatePassword","updateFirstName","updateLastName","updateEmail","updateRole","input","updateInput","e","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,YAA/B;AAkBA,OAAO,MAAMC,mBAAN,SAAkCH,KAAK,CAACI,SAAxC,CAA4D;AAC/DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,MATmB,GASV,MAAOC,KAAP,IAAiB;AACtBA,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,UAAIC,IAAI,GAAG;AACPC,QAAAA,OAAO,EAAEZ,MADF;AAEPa,QAAAA,SAAS,EAAEZ,MAFJ;AAGPa,QAAAA,QAAQ,EAAEb,MAHH;AAIPc,QAAAA,SAAS,EAAEd,MAJJ;AAKPe,QAAAA,QAAQ,EAAEf,MALH;AAMPgB,QAAAA,KAAK,EAAEhB,MANA;AAOPiB,QAAAA,SAAS,EAAEC;AAPJ,OAAX;;AAUA,UAAI;AACA,cAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,8BAAD,EAAiC;AACrDC,UAAAA,MAAM,EAAE,OAD6C;AAErDC,UAAAA,WAAW,EAAE,SAFwC;AAGrDC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,IAAf,CAH+C;AAIrDgB,UAAAA,OAAO,EAAE;AACL,4BAAgB;AADX;AAJ4C,SAAjC,CAAxB;AAQAlB,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;;AAEA,YAAIA,IAAI,CAACQ,MAAL,KAAgB,GAApB,EAAyB;AACrB,eAAKC,QAAL,CAAc;AACVC,YAAAA,YAAY,EAAE;AADJ,WAAd;AAGH,SAJD,MAIO,IAAIV,IAAI,CAACQ,MAAL,KAAgB,GAApB,EAAyB;AAC5B;AACA;AACA,eAAKvB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,SAJM,MAIA;AACH,eAAKH,QAAL,CAAc;AACVC,YAAAA,YAAY,EAAE;AADJ,WAAd;AAGH;AACJ,OAxBD,CAwBE,OAAOG,GAAP,EAAY;AACVxB,QAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAZ;AACH;AACJ,KAjDkB;;AAAA,SAuDnBC,YAvDmB,GAuDH3B,KAAD,IAAW;AACtB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAC,UAAAA,OAAO,EAAEL,KAAK,CAAC6B,MAAN,CAAaC;AAFtB;AADM,OAAd;AAMH,KA9DkB;;AAAA,SAgEnBC,cAhEmB,GAgED/B,KAAD,IAAW;AACxB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAE,UAAAA,SAAS,EAAEN,KAAK,CAAC6B,MAAN,CAAaC;AAFxB;AADM,OAAd;AAMH,KAvEkB;;AAAA,SAyEnBE,cAzEmB,GAyEDhC,KAAD,IAAW;AACxB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAG,UAAAA,QAAQ,EAAEP,KAAK,CAAC6B,MAAN,CAAaC;AAFvB;AADM,OAAd;AAMH,KAhFkB;;AAAA,SAkFnBG,eAlFmB,GAkFAjC,KAAD,IAAW;AACzB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAI,UAAAA,SAAS,EAAER,KAAK,CAAC6B,MAAN,CAAaC;AAFxB;AADM,OAAd;AAMH,KAzFkB;;AAAA,SA2FnBI,cA3FmB,GA2FDlC,KAAD,IAAW;AACxB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAK,UAAAA,QAAQ,EAAET,KAAK,CAAC6B,MAAN,CAAaC;AAFvB;AADM,OAAd;AAMH,KAlGkB;;AAAA,SAoGnBK,WApGmB,GAoGJnC,KAAD,IAAW;AACrB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAM,UAAAA,KAAK,EAAEV,KAAK,CAAC6B,MAAN,CAAaC;AAFpB;AADM,OAAd;AAMH,KA3GkB;;AAAA,SA6GnBM,UA7GmB,GA6GLpC,KAAD,IAAW;AACpB,WAAKsB,QAAL,CAAc;AACVlB,QAAAA,IAAI,oBACG,KAAKwB,KAAL,CAAWxB,IADd;AAEAO,UAAAA,SAAS,EAAEX,KAAK,CAAC6B,MAAN,CAAaC;AAFxB;AADM,OAAd;AAMH,KApHkB;;AAEf,SAAKF,KAAL,GAAa;AACTxB,MAAAA,IAAI,EAAEQ,SADG;AAETyB,MAAAA,KAAK,EAAE,EAFE;AAGTd,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKH;;AA2CDe,EAAAA,WAAW,CAACC,CAAD,EAAI;AACX,SAAKjB,QAAL,CAAc;AACNe,MAAAA,KAAK,EAAEE,CAAC,CAACV,MAAF,CAASC;AADV,KAAd;AAGH;;AA+DDU,EAAAA,MAAM,GAAG;AACO,WACJ;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWS,KAArC;AAA4C,MAAA,QAAQ,EAAGE,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAC0F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1F,EAGA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,KAAKX,KAAL,CAAWxB,IAAX,CAAgBI,SAAhB,GAA4B,GAA5B,GAAkC,KAAKoB,KAAL,CAAWxB,IAAX,CAAgBK,QAA9E,CADF,CAHA,EAMA;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAqC,KAAKmB,KAAL,CAAWxB,IAAX,CAAgBC,OAArD,CADF,EAEE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA2C,KAAKuB,KAAL,CAAWxB,IAAX,CAAgBE,SAA3D,CAFF,EAGE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA2C,KAAKsB,KAAL,CAAWxB,IAAX,CAAgBG,QAA3D,CAHF,EAIE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA6C,KAAKqB,KAAL,CAAWxB,IAAX,CAAgBI,SAA7D,CAJF,EAKE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA4C,KAAKoB,KAAL,CAAWxB,IAAX,CAAgBK,QAA5D,CALF,EAME;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwC,KAAKmB,KAAL,CAAWxB,IAAX,CAAgBM,KAAxD,CANF,EAOE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAuC,KAAKkB,KAAL,CAAWxB,IAAX,CAAgBO,SAAvD,CAPF,CANA,CADA,CADF,EAmBE;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,QAAQ,EAAE,KAAKZ,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHA,EAIA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,aAAtB;AAAoC,MAAA,IAAI,EAAC,QAAzC;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,QADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAK6B,KAAL,CAAWxB,IAAX,CAAgBC,OAFlC;AAE2C,MAAA,QAAQ,EAAE,KAAKsB,YAF1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARA,EASA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,eAAtB;AAAsC,MAAA,IAAI,EAAC,UAA3C;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,UADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWxB,IAAX,CAAgBE,SAFlC;AAE6C,MAAA,QAAQ,EAAE,KAAKyB,cAF5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATA,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbA,EAcA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,eAA1B;AAA0C,MAAA,IAAI,EAAC,UAA/C;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,UADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWxB,IAAX,CAAgBG,QAFlC;AAE4C,MAAA,QAAQ,EAAE,KAAKyB,cAF3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdA,EAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlBA,EAmBA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,gBAAtB;AAAuC,MAAA,IAAI,EAAC,WAA5C;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,YADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWxB,IAAX,CAAgBI,SAFlC;AAE6C,MAAA,QAAQ,EAAE,KAAKyB,eAF5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBA,EAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAvBA,EAwBA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,eAAtB;AAAsC,MAAA,IAAI,EAAC,UAA3C;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,WADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWxB,IAAX,CAAgBK,QAFlC;AAE4C,MAAA,QAAQ,EAAE,KAAKyB,cAF3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBA,EA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA5BA,EA6BA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,YAAtB;AAAmC,MAAA,IAAI,EAAC,OAAxC;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,OADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWxB,IAAX,CAAgBM,KAFlC;AAEyC,MAAA,QAAQ,EAAE,KAAKyB,WAFxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7BA,EAiCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjCA,EAkCA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,WAAtB;AAAkC,MAAA,IAAI,EAAC,MAAvC;AACE,MAAA,SAAS,EAAC,cADZ;AAC2B,MAAA,WAAW,EAAC,MADvC;AAEE,MAAA,QAAQ,MAFV;AAEW,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWxB,IAAX,CAAgBO,SAFlC;AAE6C,MAAA,QAAQ,EAAE,KAAKyB,UAF5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCA,EAsCA;AAAQ,MAAA,SAAS,EAAC,kCAAlB;AAAqD,MAAA,IAAI,EAAC,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtCA,EAuCA;AAAG,MAAA,EAAE,EAAC,aAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqB,KAAKR,KAAL,CAAWL,YAAhC,CAvCA,CAnBF,CADI;AA+Df;;AAtL8D","sourcesContent":["import React from 'react';\r\nimport { number, string } from 'prop-types';\r\nimport { User } from '../../model/user';\r\nimport { Role } from '../../model/Role';\r\n\r\n\r\ninterface IUserUpdateState {\r\n    user: User;\r\n    input: string;\r\n    user_Id: number;\r\n    user_name: string;\r\n    password: string;\r\n    firstname: string;\r\n    lastname: string;\r\n    email: string;\r\n    user_role : Role;\r\n    errorMessage: string;\r\n}\r\n\r\nexport class UserUpdateComponent extends React.Component<any, any> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: undefined,\r\n            input: '',\r\n            errorMessage: ''\r\n        };\r\n    }\r\n\r\n    submit = async (event) => {\r\n        event.preventDefault();\r\n        console.log('attempting to login');\r\n        let user = {\r\n            user_id: number,\r\n            user_name: string,\r\n            password: string,\r\n            firstname: string,\r\n            lastname: string,\r\n            email: string,\r\n            user_role: undefined\r\n        };\r\n\r\n        try {\r\n            const resp = await fetch('http://localhost:8081/users/', {\r\n                method: 'PATCH',\r\n                credentials: 'include',\r\n                body: JSON.stringify(user),\r\n                headers: {\r\n                    'content-type': 'application/json'\r\n                }\r\n            })\r\n            console.log(resp);\r\n\r\n            if (resp.status === 401) {\r\n                this.setState({\r\n                    errorMessage: 'Invalid Credentials'\r\n                });\r\n            } else if (resp.status === 200) {\r\n                // redirect to spaceships page\r\n                // const user = await resp.json();\r\n                this.props.history.push('/home');\r\n            } else {\r\n                this.setState({\r\n                    errorMessage: 'Cannot Update User'\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    updateInput(e) {\r\n        this.setState({\r\n                input: e.target.value\r\n            })\r\n    }\r\n    updateUserId = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                user_id: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updateUsername = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                user_name: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updatePassword = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                password: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updateFirstName = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                firstname: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updateLastName = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                lastname: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updateEmail = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                email: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    updateRole = (event) => {\r\n        this.setState({\r\n            user: {\r\n                ...this.state.user,\r\n                user_role: event.target.value\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n                    return (\r\n                <div className=\"container\">\r\n                  <div className=\"row\">\r\n                  <div className=\"card col-md-4 col-sm-6 col-xs-12\">\r\n                  <input type=\"text\" value={this.state.input} onChange={(e) => this.updateInput(e)}></input><br></br>\r\n           \r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{this.state.user.firstname + ' ' + this.state.user.lastname}</h5>\r\n                  </div>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">ID: {this.state.user.user_id}</li>\r\n                    <li className=\"list-group-item\">Username: {this.state.user.user_name}</li>\r\n                    <li className=\"list-group-item\">Password: {this.state.user.password}</li>\r\n                    <li className=\"list-group-item\">First Name: {this.state.user.firstname}</li>\r\n                    <li className=\"list-group-item\">Last Name: {this.state.user.lastname}</li>\r\n                    <li className=\"list-group-item\">email: {this.state.user.email}</li>\r\n                    <li className=\"list-group-item\">Role: {this.state.user.user_role}</li>\r\n                  </ul>\r\n                  </div>\r\n                  </div>\r\n                  <form className=\"form-signin\" onSubmit={this.submit}>\r\n                  <h1 className=\"h3 mb-3 font-weight-normal\">Update Profile</h1>\r\n           \r\n                  <label>User ID</label>\r\n                  <input type=\"text\" id=\"inputUserId\" name=\"userId\"\r\n                    className=\"form-control\" placeholder=\"UserId\"\r\n                    required value={this.state.user.user_id} onChange={this.updateUserId} />\r\n           \r\n                  <label>Username</label>\r\n                  <input type=\"text\" id=\"inputUsername\" name=\"username\"\r\n                    className=\"form-control\" placeholder=\"Username\"\r\n                    required value={this.state.user.user_name} onChange={this.updateUsername} />\r\n           \r\n                  <label>Password</label>\r\n                  <input type=\"password\" id=\"inputPassword\" name=\"password\"\r\n                    className=\"form-control\" placeholder=\"Password\"\r\n                    required value={this.state.user.password} onChange={this.updatePassword} />\r\n           \r\n                  <label>First Name</label>\r\n                  <input type=\"text\" id=\"inputFirstName\" name=\"firstName\"\r\n                    className=\"form-control\" placeholder=\"First Name\"\r\n                    required value={this.state.user.firstname} onChange={this.updateFirstName} />\r\n           \r\n                  <label>Last Name</label>\r\n                  <input type=\"text\" id=\"inputLastName\" name=\"lastName\"\r\n                    className=\"form-control\" placeholder=\"Last Name\"\r\n                    required value={this.state.user.lastname} onChange={this.updateLastName} />\r\n           \r\n                  <label>email</label>\r\n                  <input type=\"text\" id=\"inputEmail\" name=\"email\"\r\n                    className=\"form-control\" placeholder=\"email\"\r\n                    required value={this.state.user.email} onChange={this.updateEmail} />\r\n           \r\n                  <label>Role</label>\r\n                  <input type=\"text\" id=\"inputRole\" name=\"role\"\r\n                    className=\"form-control\" placeholder=\"Role\"\r\n                    required value={this.state.user.user_role} onChange={this.updateRole} />\r\n           \r\n                  <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Update</button>\r\n                  <p id=\"login-error\">{this.state.errorMessage}</p>\r\n                </form>\r\n                </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}