{"ast":null,"code":"var _jsxFileName = \"C:\\\\2019classrevature\\\\project1-app\\\\src\\\\components\\\\sign-in\\\\sign-in.component.tsx\";\nimport React from 'react';\nexport class SignInComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = async event => {\n      event.preventDefault();\n      console.log('attempting to login');\n      const credentials = {\n        user_name: this.state.user_name,\n        password: this.state.password\n      };\n\n      try {\n        console.log(credentials);\n        const resp = await fetch('http://localhost:8080/login', {\n          method: 'POST',\n          credentials: 'include',\n          body: JSON.stringify(credentials),\n          headers: {\n            'content-type': 'application/json'\n          }\n        });\n        console.log(resp);\n\n        if (resp.status === 401) {\n          this.setState({\n            errorMessage: 'Invalid Credentials'\n          });\n        } else if (resp.status === 200) {\n          // redirect to spaceships page\n          // const user = await resp.json();\n          this.props.history.push('/home');\n        } else {\n          this.setState({\n            errorMessage: 'Cannot Login At This Time'\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.updateUsername = event => {\n      this.setState({\n        user_name: event.target.value\n      });\n    };\n\n    this.updatePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.state = {\n      user_name: '',\n      password: '',\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          user_name = _this$state.user_name,\n          password = _this$state.password,\n          errorMessage = _this$state.errorMessage;\n    return React.createElement(\"div\", {\n      id: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-signin\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"top\",\n      className: \"h3 mb-3 font-weight-normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"label\", {\n      htmlFor: \"inputUsername\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputUsername\",\n      name: \"username\",\n      className: \"form-control\",\n      placeholder: \"Username\",\n      required: true,\n      value: user_name,\n      onChange: this.updateUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      required: true,\n      value: password,\n      onChange: this.updatePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"but\",\n      className: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"p\", {\n      id: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, errorMessage)));\n  }\n\n}","map":{"version":3,"sources":["C:\\2019classrevature\\project1-app\\src\\components\\sign-in\\sign-in.component.tsx"],"names":["React","SignInComponent","Component","constructor","props","submit","event","preventDefault","console","log","credentials","user_name","state","password","resp","fetch","method","body","JSON","stringify","headers","status","setState","errorMessage","history","push","err","updateUsername","target","value","updatePassword","render"],"mappings":"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","sourcesContent":["  import React from 'react';\r\n\r\ninterface ISignInState {\r\n  user_name: string;\r\n  password: string;\r\n  errorMessage: string;\r\n}\r\n\r\nexport class SignInComponent extends React.Component<any, ISignInState> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user_name: '',\r\n      password: '',\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  submit = async (event) => {\r\n    event.preventDefault();\r\n    console.log('attempting to login');\r\n    const credentials = {\r\n      user_name: this.state.user_name,\r\n      password: this.state.password\r\n    };\r\n\r\n    try {\r\n      console.log(credentials);\r\n      const resp = await fetch('http://localhost:8080/login', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: JSON.stringify(credentials),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      })\r\n      console.log(resp);\r\n\r\n      if (resp.status === 401) {\r\n        this.setState({\r\n          errorMessage: 'Invalid Credentials'\r\n        });\r\n      } else if (resp.status === 200) {\r\n        // redirect to spaceships page\r\n        // const user = await resp.json();\r\n        this.props.history.push('/home');\r\n      } else {\r\n        this.setState({\r\n          errorMessage: 'Cannot Login At This Time'\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  updateUsername = (event) => {\r\n    this.setState({\r\n      user_name: event.target.value\r\n    });\r\n  }\r\n\r\n  updatePassword = (event) => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { user_name, password, errorMessage } = this.state;\r\n    return (\r\n      <div id = \"form\">\r\n      <form className=\"form-signin\" onSubmit={this.submit}>\r\n        <h1 id = \"top\" className=\"h3 mb-3 font-weight-normal\">Sign In</h1>\r\n        <label htmlFor=\"inputUsername\" className=\"sr-only\">Username</label>\r\n        <input type=\"text\" id=\"inputUsername\" name=\"username\"\r\n          className=\"form-control\" placeholder=\"Username\"\r\n          required value={user_name} onChange={this.updateUsername} />\r\n\r\n        <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\r\n        <input type=\"password\" id=\"inputPassword\" name=\"password\"\r\n          className=\"form-control\" placeholder=\"Password\"\r\n          required value={password} onChange={this.updatePassword} />\r\n\r\n        <button id = \"but\" className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n        <p id=\"login-error\">{errorMessage}</p>\r\n      </form>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}